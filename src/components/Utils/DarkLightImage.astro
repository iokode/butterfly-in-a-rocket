---
import type { ImageMetadata } from "astro";
import { getImage } from "astro:assets";

interface Props {
    id?: string;
    class?: string;
    dark: ImageMetadata;
    light: ImageMetadata;
    alt: string;
}

const darkImage = await getImage({
    src: Astro.props.dark,
});

const lightImage = await getImage({
    src: Astro.props.light,
});
---

<picture id={Astro.props.id} class={Astro.props.class}>
    <source media="(prefers-color-scheme: dark)" srcset={darkImage.src} />
    <img src={lightImage.src} alt={Astro.props.alt} />
</picture>
