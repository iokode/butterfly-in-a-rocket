---
import {getCollection} from "astro:content";
import TextEntry from "../../layouts/TextEntry.astro";
import {Markdown} from 'astro-remote';
import Alert from "../../components/Entry/Alert.astro";
import Conversation from "../../components/Entry/Conversation.astro";
import XPost from "../../components/Entry/XPost.astro";

export const getStaticPaths = async function () {
    const entries = await getCollection('entries');

    return entries.map(entry => {
        return {
            params: {slug: entry.data.slug},
            props: {entry: entry}
        }
    })
};
---
<TextEntry title={Astro.props.entry.data.title}>
    <Markdown content={Astro.props.entry.data.body} sanitize={{allowComponents: true}} components={{Alert, Conversation, XPost}}/>
</TextEntry>